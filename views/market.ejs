<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200&family=Lato:wght@700&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <link href="/EJSstyles.css" rel="stylesheet" type="text/css">
    <script src="https://kit.fontawesome.com/7febf94e83.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.js" integrity="sha512-FSNQjUUq97PtDnAJyMlBTH8EhV4o5X5FLVbzS9ttrdEVVbmrssJBh/PgXFQbxS+6yYx5n5irOj7de6Th0TRQZA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js" integrity="sha384-Gr6Lu2Ajx28mzwyVR8CFkULdCU7kMlZ9UthllibdOSo6qAiN+yXNHqtgdTvFXMT4" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <title>Home | Buzz</title>
  </head>


  <body>
    <header class="myheader" id="header">
        <%- include('partials/header'); %>  
    </header>

    <div class="market-header">
        <div class="market-search">
            <input type="text" placeholder="What are you looking for?"/>
        </div>
        <div onclick="openFilterMenu()" id="ham" class="ham">
            <a><i class="fa-solid fa-bars"></i></a>
        </div>
    </div>
    <div id="filter-wrap" class="filter-wrap">
        <div class="blocker" onclick="hidePopup()"></div>
        <div id="filter-menu" class="filter-menu">
            <li><p>Price</p><span>></span></li>
            <li><p>Category</p><span>></span></li>
            <li><p>Miles Away</p><span>></span></li>
            <li><p>Brand</p><span>></span></li>
        </div>
    </div>

    <!-- <button onclick="showPopup()">
        Open Popup
      </button>
      <div class="popup">
        <div class="blocker" onclick="hidePopup()"></div>
        <div class="contents">
          This is popup
        </div>
      </div> -->

    <div class="categories">
        <div class="category">
            <div class="category-title">
                <p>Furniture</p>
            </div>
            <div class="scroller">
              <ul class="tag-list scroller__inner">
                <li><img src="images/marketCouch.jpg"></li>
                <li><img src="images/marketCouch.jpg"></li>
                <li><img src="images/marketCouch.jpg"></li>
                <li><img src="images/marketCouch.jpg"></li>
                <li><img src="images/marketCouch.jpg"></li>
                <li><img src="images/marketCouch.jpg"></li>
              </ul>
            </div>
        </div>
    
        <div class="category">
            <div class="category-title">
                <p>Furniture</p>
            </div>
            <div class="scroller" data-direction="right">
                <ul class="tag-list scroller__inner">
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                </ul>
              </div>
        </div>

        <div class="category">
            <div class="category-title">
                <p>Furniture</p>
            </div>
            <div class="scroller">
                <ul class="tag-list scroller__inner">
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                </ul>
              </div>
        </div>

        <div class="category">
            <div class="category-title">
                <p>Furniture</p>
            </div>
            <div class="scroller" data-direction="right">
                <ul class="tag-list scroller__inner">
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                  <li><img src="images/marketCouch.jpg"></li>
                </ul>
              </div>
        </div>
    </div>

    <!-- <div class="category2">
        <div class="category-title">
            <h3>Tech</h3>
        </div>
    </div>

    <div class="category2">
        <div class="category-title">
            <h3>Outdoors</h3>
        </div>
    </div> -->

    <script>
        const scrollers = document.querySelectorAll('.scroller');
        const scrollersRight = document.querySelectorAll('.scroller-right');

        if (!window.matchMedia("(prefer-reduced-motion: reduce)").matches) {
            addAnimation();
            addAnimation2();
        }

        function addAnimation() {
            scrollers.forEach((scroller) => {
                scroller.setAttribute('data-animated', true);

                const scrollerInner = scroller.querySelector(".scroller__inner");

                const scrollerContent  = Array.from(scrollerInner.children);

                scrollerContent.forEach(item => {
                    const dupelicatedItem = item.cloneNode(true);
                    // console.log(dupelicatedItem)
                    dupelicatedItem.setAttribute('aria-hidden', true);
                    scrollerInner.appendChild(dupelicatedItem);
                })
            })
        }



        function addAnimation2() {
            scrollersRight.forEach((scroller) => {
                scroller.setAttribute('data-animated', true);

                const scrollerInner = scroller.querySelector(".scroller__inner");

                const scrollerContent  = Array.from(scrollerInner.children);

                scrollerContent.forEach(item => {
                    const dupelicatedItem = item.cloneNode(true);
                    console.log(dupelicatedItem)
                    dupelicatedItem.setAttribute('aria-hidden', true);
                    scrollerInner.appendChild(dupelicatedItem);
                })
            })
        }


        const ham = document.getElementById('filter-menu');
        const filterWrap = document.getElementById('filter-wrap');
        const blocker = document.getElementById('blocker');


        function openFilterMenu() {

            if(!ham.classList.contains('filter-menu-open')) {
                ham.classList.add('filter-menu-open');
                filterWrap.classList.add('filter-wrap-open');
            } else {
                ham.classList.remove('filter-menu-open');
            }

        }

        function hidePopup() {
            ham.classList.remove('filter-menu-open');
            filterWrap.classList.remove('filter-wrap-open');
        }
        
    </script>

</html>